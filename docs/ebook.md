# EBook generation (beta)
Inspired by *GitBook*  
**Markdown Preview Enhanced** can output content as ebook (ePub, Mobi, PDF).   

To generate ebook, you need to have `ebook-convert` installed.  

## Installing ebook-convert
**OS X**  
Download the [Calibre Application](https://calibre-ebook.com/download). After moving the calibre.app to your Applications folder create a symbolic link to the ebook-convert tool:
```shell
$ sudo ln -s ~/Applications/calibre.app/Contents/MacOS/ebook-convert /usr/local/bin
```
**Windows**  
Download and Install the [Calibre Application](https://calibre-ebook.com/download).  
Add `ebook-convert` to your system path.


## Create book.json file
`book.json` file is used for configuration.   
The `book.json` should look like this
```json
{
  "title": "title of your book",
  "authors": "author1 & author2 & ...",
  "publisher": "who is the publisher?",
  "book-producer": "who is the book producer",
  "pubdate": "publish date",
  "isbn": "ISBN of the book",
  "cover": "http://path-to-image.png",
  "epub-toc-at-end": false,
  "entry": "./SUMMARY.md"
}
```

The `entry` is required, which should points to the markdown file that contains table of contents.

The minimal version of `book.json` should look like this
```json
{
  "title": "title of your book",
  "entry": "./SUMMARY.md"
}
```

## SUMMARY.md
Below is a sample of `SUMMARY.md`.  
`SUMMARY.md` should contain a table of contents.  
The link's title is used as the chapter's title, and the link's target is a path to that chapter's file.
```markdown
# Preface  
This is the preface

# Table of Contents
* [Chapter 1](/chapter1/README.md)
  * [Introduction of Markdown Preview Enhanced](/chapter1/intro.md)
  * [Features](/chapter1/feature.md)
* [Chapter 2](/chapter2/README.md)
  * [Known issues](/chapter2/issues.md)
```

## Commands to run
```shell
ebook-convert test.html test.epub --level1-toc '//h:h1' --level2-toc '//h:h2' --level3-toc '//h:h3' --title 'I am handsome'
```

## Known Issues
* All SVG graph generated by `mermaid`, `PlantUML`, etc will not work in the ebook generated.  
* Only **KaTeX** will be used for Math Typesetting.   
  And the generated ebook file doesn't render math expression properly in **iBook**.
